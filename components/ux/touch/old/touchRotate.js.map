{"version":3,"file":"touchRotate.js","sourceRoot":"../../../..","sources":["components/ux/touch/old/touchRotate.ts"],"sourcesContent":["// #todo\r\n\r\n/**\r\n * @fileOverview 设置滚动显示指定元素时回调。\r\n * @author xuld@vip.qq.com\r\n */\r\n\r\ntypeof include === \"function\" && include(\"../dom/dom.js\");\r\n\r\n/**\r\n * 渐变滚动当前元素到指定位置。\r\n * @param {Number} x 滚动的目标水平位置。\r\n * @param {Number} y 滚动的目标垂直位置。\r\n * @param {Number} [duration=100] 滚动的特效时间。如果为 0 则不使用渐变。\r\n * @param {Function} [callback] 滚动特效完成后的回调。\r\n */\r\nDom.prototype.touchRotate = function (options) {\r\n\r\n    var lastRadius;\r\n\r\n    this.on('touchstart', function (e) {\r\n\r\n        $(this).html('asd');\r\n        var touches = e.touches,\r\n            x1 = touches[0].pageX,\r\n            y1 = touches[0].pageY,\r\n            x2 = touches[touches.length - 1].pageX,\r\n            y2 = touches[touches.length - 1].pageY;\r\n\r\n       $(this).html( getRadius(x1, y1, x2, y2)  );\r\n    });\r\n\r\n};\r\n\r\nfunction getRadius(x1, y1, x2, y2) {\r\n    if (x1 == x2) return 90;\r\n    var tan = (y2 - y1) / (x2 - x1);\r\n    if (tan > 0) return Math.atan(tan) * 180 / Math.PI;\r\n    return 180 + Math.atan(tan) * 180 / Math.PI;\r\n}\r\n"],"mappings":"AAAA,QAAQ;AAER;;;GAGG;AAEH,OAAO,OAAO,KAAK,UAAU,IAAI,OAAO,CAAC,eAAe,CAAC,CAAC;AAE1D;;;;;;GAMG;AACH,GAAG,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO;IAEzC,IAAI,UAAU,CAAC;IAEf,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC;QAE7B,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACpB,IAAI,OAAO,GAAG,CAAC,CAAC,OAAO,EACnB,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EACrB,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EACrB,EAAE,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EACtC,EAAE,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;QAE5C,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAE,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAG,CAAC;IAC9C,CAAC,CAAC,CAAC;AAEP,CAAC,CAAC;AAEF,mBAAmB,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;IAC7B,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC;QAAC,MAAM,CAAC,EAAE,CAAC;IACxB,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;IAChC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;IACnD,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;AAChD,CAAC"}