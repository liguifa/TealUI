{"version":3,"file":"addFavorite.js","sourceRoot":"../../..","sources":["components/ux/addFavorite/addFavorite.ts"],"sourcesContent":["/**\r\n * 打开添加收藏夹对话框。\r\n * @param title 收藏的标题。默认为当前网页标题。\r\n * @param url 收藏的地址。默认为当前网页地址。\r\n * @example\r\n * // 添加当前网页到收藏夹\r\n * addFavorite()\r\n *\r\n * // 添加指定网页到收藏夹\r\n * addFavorite(\"TealUI\", \"http://tealui.com\")\r\n *\r\n * @desc 最新浏览器由于安全限制，不允许使用此功能。这时，函数会提示用户手动操作。\r\n */\r\nexport function addFavorite(title = document.title, url = location.href) {\r\n    try {\r\n        (external as any).addFavorite(url, title);\r\n    } catch (e) {\r\n        alert(\"您的浏览器不允许自动添加收藏。\" + (navigator.maxTouchPoints ? \"请手动添加\" : \"请按 Ctrl+D 添加到收藏夹\"));\r\n    }\r\n}\r\n\r\n/**\r\n * 弹出设置主页对话框。\r\n * @param url 设置的地址。\r\n * @example\r\n * // 设置当前网页为主页\r\n * setHomePage()\r\n *\r\n * // 设置指定网页为主页\r\n * setHomePage(\"TealUI\", \"http://tealui.com\")\r\n * @desc 最新浏览器由于安全限制，不允许使用此功能。这时，函数会提示用户手动操作。\r\n */\r\nexport function setHomePage(url: string) {\r\n    try {\r\n        (document.body.style as any).behavior = \"url(#default#homepage)\";\r\n        (document.body as any).setHomePage(url || location.href);\r\n    } catch (e) {\r\n        alert(\"您的浏览器不允许自动设置主页。请在浏览器设置页中手动设置\");\r\n        // 用户也可选择打开以下页面提示用户设置方法。\r\n        // window.open(\"http://www.hao123.com/redian/sheshouyef.htm\");\r\n        // window.open(\"http://hao.360.cn/sub/sethomepage.html\");\r\n    }\r\n}\r\n"],"mappings":";;IAAA;;;;;;;;;;;;OAYG;IACH,qBAA4B,KAAK,GAAG,QAAQ,CAAC,KAAK,EAAE,GAAG,GAAG,QAAQ,CAAC,IAAI;QACnE,IAAI,CAAC;YACA,QAAgB,CAAC,WAAW,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAC9C,CAAC;QAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACT,KAAK,CAAC,iBAAiB,GAAG,CAAC,SAAS,CAAC,cAAc,GAAG,OAAO,GAAG,kBAAkB,CAAC,CAAC,CAAC;QACzF,CAAC;IACL,CAAC;IAND,kCAMC;IAED;;;;;;;;;;OAUG;IACH,qBAA4B,GAAW;QACnC,IAAI,CAAC;YACA,QAAQ,CAAC,IAAI,CAAC,KAAa,CAAC,QAAQ,GAAG,wBAAwB,CAAC;YAChE,QAAQ,CAAC,IAAY,CAAC,WAAW,CAAC,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC7D,CAAC;QAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACT,KAAK,CAAC,8BAA8B,CAAC,CAAC;YACtC,wBAAwB;YACxB,8DAA8D;YAC9D,yDAAyD;QAC7D,CAAC;IACL,CAAC;IAVD,kCAUC"}