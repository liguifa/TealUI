{"version":3,"file":"cookie-more.js","sourceRoot":"../../..","sources":["components/ux/cookie/cookie-more.ts"],"sourcesContent":["import { getCookie, setCookie } from \"./cookie\";\r\nimport { getQuery, setQuery } from \"util/query\";\r\n\r\n/**\r\n * 获取所有 Cookie 。\r\n * @return 返回包含所有 Cookie 的键值对。\r\n * @example getAllCookies()\r\n */\r\nexport function getAllCookies() {\r\n    const result: { [key: string]: string } = {};\r\n    document.cookie.replace(/(.+?)=(.+?)(;\\s*|$)/g, (_: string, cookieName: string, cookieValue: string) => {\r\n        result[decodeURIComponent(cookieName)] = decodeURIComponent(cookieValue);\r\n        return \"\";\r\n    });\r\n    return result;\r\n}\r\n\r\n/**\r\n * 获取一个子 Cookie 值。\r\n * @param name 要获取的 Cookie 名字。\r\n * @param subname 要获取的子 Cookie 名字。\r\n * @return 返回对应的 Cookie 值。如果 Cookie 不存在则返回 null。\r\n * @example getSubcookie(\"sample\", \"subName\") // 如果不存在则返回 null。\r\n */\r\nexport function getSubcookie(name: string, subname: string) {\r\n    const cookie = getCookie(name);\r\n    return cookie == null ? null : getQuery(subname, \"?\" + cookie);\r\n}\r\n\r\n/**\r\n * 设置或删除一个子 Cookie 值。\r\n * @param name 要设置的 Cookie 名字。\r\n * @param subname 要设置的子 Cookie 名字。\r\n * @param value 要设置的 Cookie 值。如果设为 null 则删除 Cookie。\r\n * @param expires Cookie 过期的秒数。如果设为 -1 表示永不过期。如果设为 0 表示立即过期。\r\n * @param path 设置 Cookie 的路径。\r\n * @param domain 设置 Cookie 的所在域。\r\n * @param secure 设置 Cookie 的安全限制。\r\n * @example\r\n * // 设置子 Cookie\r\n * setSubcookie(\"sample\", \"subName\", \"the value\")\r\n *\r\n * // 删除子 Cookie\r\n * setSubcookie(\"sample\", \"subName\", null)\r\n */\r\nexport function setSubcookie(name: string, subname: string, value: string | null, expires?: number, path?: string, domain?: string, secure?: string) {\r\n    setCookie(name, setQuery(subname, value, \"?\" + (getCookie(name) || \"\")).slice(1), expires, path, domain, secure);\r\n}\r\n"],"mappings":";;IAGA;;;;OAIG;IACH;QACI,MAAM,MAAM,GAA8B,EAAE,CAAC;QAC7C,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,sBAAsB,EAAE,CAAC,CAAS,EAAE,UAAkB,EAAE,WAAmB;YAC/F,MAAM,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC,GAAG,kBAAkB,CAAC,WAAW,CAAC,CAAC;YACzE,MAAM,CAAC,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAPD,sCAOC;IAED;;;;;;OAMG;IACH,sBAA6B,IAAY,EAAE,OAAe;QACtD,MAAM,MAAM,GAAG,kBAAS,CAAC,IAAI,CAAC,CAAC;QAC/B,MAAM,CAAC,MAAM,IAAI,IAAI,GAAG,IAAI,GAAG,gBAAQ,CAAC,OAAO,EAAE,GAAG,GAAG,MAAM,CAAC,CAAC;IACnE,CAAC;IAHD,oCAGC;IAED;;;;;;;;;;;;;;;OAeG;IACH,sBAA6B,IAAY,EAAE,OAAe,EAAE,KAAoB,EAAE,OAAgB,EAAE,IAAa,EAAE,MAAe,EAAE,MAAe;QAC/I,kBAAS,CAAC,IAAI,EAAE,gBAAQ,CAAC,OAAO,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,kBAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;IACrH,CAAC;IAFD,oCAEC"}