{"version":3,"file":"scrollSpy (2).js","sourceRoot":"../../../..","sources":["components/ux/scrollSpy/old/scrollSpy (2).ts"],"sourcesContent":["// #todo\r\n\r\n/**\r\n * @author \r\n */\r\n\r\ntypeof include === \"function\" && include(\"dom/dom.jsDom.implement({\t\");\r\n\tscrollSpy: function(){\r\n\t\tvar me = this,\r\n\t\t\tinitY = me.getPosition().y,\r\n\t\t\tinitP = me.getStyle('position'),\r\n\t\t\tinitT = me.getStyle('top');\r\n\t\tif(navigator.isIE6){\r\n\t\t\t\tDom.query('html,html body').setStyle('_background-image','url(\"about:blank\")').setStyle('_background-attachment','fixed');\r\n\t\t\t}\r\n\t\tDom.window.on('scroll',function() {\r\n\t\t\tif (navigator.isIE6) {\r\n\t\t\t\tif (initY <= document.getScroll().y) {\r\n\t\t\t\t\tme.setStyle('position', 'absolute').setStyle('top', document.documentElement.scrollTop);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tme.setStyle('position', initP).setStyle('top', initT);\r\n\t\t\t\t}\t\t\t\r\n\t\t\t}else{\r\n\t\t\t\tif (initY <= document.getScroll().y) {\r\n\t\t\t\t\tme.setStyle('position', 'fixed').setStyle('top', 0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tme.setStyle('position', initP).setStyle('top', initT);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n});\r\n\r\n\r\n\r\n//===========================================\r\n//  ��Ԫ��   pin.js    C\r\n//===========================================\r\n\r\n\r\nElement.implement({\r\n\r\n\t/**\r\n\t * ����Ԫ���Ƿ�̶���\r\n\t */\r\n\tsetPin: (function () {\r\n\r\n\t\tvar supportsPositionFixed = false,\r\n\t\tsupportTested = false;\r\n\r\n\t\tvar testPositionFixed = function () {\r\n\t\t\tvar test = new Element('div').setStyles({\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tright: 0\r\n\t\t\t}).inject(document.body);\r\n\t\t\tsupportsPositionFixed = (test.offsetTop === 0);\r\n\t\t\ttest.dispose();\r\n\t\t\tsupportTested = true;\r\n\t\t};\r\n\r\n\t\treturn function (value, hideWhenScroll) {\r\n\t\t\tif (!supportTested)\r\n\t\t\t\ttestPositionFixed();\r\n\t\t\tif (this.getStyle('display') == 'none')\r\n\t\t\t\treturn this;\r\n\r\n\t\t\tvar pinnedPosition,\r\n\t\t\tscroll = window.getScroll(),\r\n\t\t\tparent,\r\n\t\t\tscrollFixer;\r\n\r\n\t\t\tif (enable !== false) {\r\n\t\t\t\tpinnedPosition = this.getPosition(supportsPositionFixed ? document.body : this.getOffsetParent());\r\n\t\t\t\tif (!this.retrieve('pin:_pinned')) {\r\n\t\t\t\t\tvar currentPosition = {\r\n\t\t\t\t\t\ttop: pinnedPosition.y - scroll.y,\r\n\t\t\t\t\t\tleft: pinnedPosition.x - scroll.x\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (supportsPositionFixed && !forceScroll) {\r\n\t\t\t\t\t\tthis.setStyle('position', 'fixed').setStyles(currentPosition);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tparent = this.getOffsetParent();\r\n\t\t\t\t\t\tvar position = this.getPosition(parent),\r\n\t\t\t\t\t\tstyles = this.getStyles('left', 'top');\r\n\r\n\t\t\t\t\t\tif (parent && styles.left == 'auto' || styles.top == 'auto')\r\n\t\t\t\t\t\t\tthis.setPosition(position);\r\n\t\t\t\t\t\tif (this.getStyle('position') == 'static')\r\n\t\t\t\t\t\t\tthis.setStyle('position', 'absolute');\r\n\r\n\t\t\t\t\t\tposition = {\r\n\t\t\t\t\t\t\tx: styles.left.toInt() - scroll.x,\r\n\t\t\t\t\t\t\ty: styles.top.toInt() - scroll.y\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tscrollFixer = function () {\r\n\t\t\t\t\t\t\tif (!this.retrieve('pin:_pinned'))\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\tvar scroll = window.getScroll();\r\n\t\t\t\t\t\t\tthis.setStyles({\r\n\t\t\t\t\t\t\t\tleft: position.x + scroll.x,\r\n\t\t\t\t\t\t\t\ttop: position.y + scroll.y\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}.bind(this);\r\n\r\n\t\t\t\t\t\tthis.store('pin:_scrollFixer', scrollFixer);\r\n\t\t\t\t\t\twindow.addEvents('scroll', scrollFixer);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.store('pin:_pinned', true);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (!this.retrieve('pin:_pinned'))\r\n\t\t\t\t\treturn this;\r\n\r\n\t\t\t\tparent = this.parent();\r\n\t\t\t\tvar offsetParent = (parent.getComputedStyle('position') != 'static' ? parent : parent.getOffsetParent());\r\n\r\n\t\t\t\tpinnedPosition = this.getPosition(offsetParent);\r\n\r\n\t\t\t\tthis.store('pin:_pinned', false);\r\n\t\t\t\tscrollFixer = this.retrieve('pin:_scrollFixer');\r\n\t\t\t\tif (!scrollFixer) {\r\n\t\t\t\t\tthis.setStyles({\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\ttop: pinnedPosition.y + scroll.y,\r\n\t\t\t\t\t\tleft: pinnedPosition.x + scroll.x\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.store('pin:_scrollFixer', null);\r\n\t\t\t\t\twindow.removeEvent('scroll', scrollFixer);\r\n\t\t\t\t}\r\n\t\t\t\tthis.removeClass('isPinned');\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t})()\r\n\r\n});"],"mappings":"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"}