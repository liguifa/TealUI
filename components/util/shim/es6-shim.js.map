{"version":3,"file":"es6-shim.js","sourceRoot":"../../..","sources":["components/util/shim/es6-shim.ts"],"sourcesContent":["import \"./promise-shim\";\r\n\r\n/**\r\n * 把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。\r\n * @param target 目标对象。\r\n * @param sources 任意多个源对象。\r\n * @example assign({a: 1}, {a: 2}) // {a: 2}\r\n * @example assign({a: 1}, {b: 2}) // {a: 1, b: 2}\r\n * @example assign({a: 1}, {b: 2}, {b: 3}, {c: 4}) // {a: 1, b: 3, c: 4}\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\r\n */\r\nObject.assign = Object.assign || function <T>(target: T, ...sources: any[]) {\r\n    target = Object(target);\r\n    for (let i = 1; i < arguments.length; i++) {\r\n        const source = arguments[i];\r\n        for (const key in source) {\r\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n                (target as any)[key] = source[key];\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n};\r\n\r\n/**\r\n * 判断两个对象是否相等。\r\n * @param x 要比较的第一个对象。\r\n * @param y 要比较的第二个对象。\r\n * @return 如果相等则返回 true，否则返回 false。\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/is\r\n */\r\nObject.is = Object.is || function (x: number, y: number) {\r\n    if (x === y) {\r\n        return x !== 0 || 1 / x === 1 / y;\r\n    } else {\r\n        return x !== x && y !== y;\r\n    }\r\n};\r\n\r\n/**\r\n * 把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。\r\n * @param target 目标对象。\r\n * @param sources 任意多个源对象。\r\n * @example assign({a: 1}, {a: 2}) // {a: 2}\r\n * @example assign({a: 1}, {b: 2}) // {a: 1, b: 2}\r\n * @example assign({a: 1}, {b: 2}, {b: 3}, {c: 4}) // {a: 1, b: 3, c: 4}\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf\r\n */\r\nObject.setPrototypeOf = Object.setPrototypeOf || function (obj, proto) {\r\n    obj.__proto__ = proto;\r\n    return obj;\r\n};\r\n\r\n/**\r\n * 判断当前字符串是否以某个特定字符串开头。\r\n * @param str 开头的字符串。\r\n * @return 返回符合要求则返回 true，否则返回 false。\r\n * @example startsWith(\"1234567\", \"123\") // true\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\r\n */\r\nString.prototype.startsWith = String.prototype.startsWith || function (this: string, value: string) {\r\n    return this.substr(0, value.length) === value;\r\n};\r\n\r\n/**\r\n * 判断当前字符串是否以某个特定字符串结尾。\r\n * @param value 开头的字符串。\r\n * @return 返回符合要求则返回 true，否则返回 false。\r\n * @example endsWith(\"1234567\", \"67\") // true\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\r\n */\r\nString.prototype.endsWith = String.prototype.endsWith || function (this: string, value: string) {\r\n    return this.substr(this.length - value.length) === value;\r\n};\r\n\r\n/**\r\n * 重复当前字符串内容指定次数。\r\n * @return 返回新字符串。\r\n * @example repeat(\"a\", 4) // \"aaaa\"\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\r\n */\r\nString.prototype.repeat = String.prototype.repeat || function (this: string, count: number) {\r\n    return new Array(count + 1).join(this);\r\n};\r\n\r\n/**\r\n * 将一个类数组对象转为原生数组。\r\n * @param iterable 一个类数组对象。\r\n * @return 返回新数组，其值和 *iterable* 一一对应。\r\n * @since ES5\r\n * @example from([1, 4]) // [1, 4]\r\n * @example (function() { return Array.from(arguments); })(0, 1, 2) // [0, 1, 2]\r\n * @example from({length: 1, \"0\": \"value\"}) // [\"value\"]\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/from\r\n */\r\nArray.from = Array.from || function <T>(iterable: ArrayLike<T>): T[] {\r\n    /*@cc_on  if (!+\"\\v1\") {\r\n         const result: T[] = [];\r\n         for (let i = 0; i < iterable.length; i++) {\r\n             result[i] = iterable[i];\r\n         }\r\n         return result;\r\n     } */\r\n    return Array.prototype.slice.call(iterable);\r\n};\r\n\r\n/**\r\n * 找出当前数组中符合要求的第一项。\r\n * @param callback 对每一项执行的回调函数，用于确定每一项是否符合条件。\r\n * - value：当前项的值。\r\n * - index：当前项的索引或键。\r\n * - target：当前正在遍历的数组。\r\n * - 返回：如果当前项符合条件则应该返回 true，否则返回 false。\r\n * @param scope 设置 *callback* 执行时 this 的值。\r\n * @return 返回符合条件的第一项，如果没有满足条件的项，则返回 undefined。\r\n * @example find([1, 2], function (item) { return item > 1; }) // 2\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/find\r\n */\r\nArray.prototype.find = Array.prototype.find || function <T>(this: T[], callback: (value: T, index: number, target: T[]) => boolean, scope?: any) {\r\n    for (let i = 0; i < this.length; i++) {\r\n        if ((i in this) && callback.call(scope, this[i], i, this)) {\r\n            return this[i];\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * 找出当前数组中符合要求的第一项的索引。\r\n * @param callback 对每一项执行的回调函数，用于确定每一项是否符合条件。\r\n * - value：当前项的值。\r\n * - index：当前项的索引或键。\r\n * - target：当前正在遍历的数组。\r\n * - 返回：如果当前项符合条件则应该返回 true，否则返回 false。\r\n * @param scope 设置 *callback* 执行时 this 的值。\r\n * @return 返回符合条件的第一项的索引，如果没有满足条件的项，则返回 -1。\r\n * @example [1, 2].findIndex(function(item) { return item > 1; }) // 1\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\r\n */\r\nArray.prototype.findIndex = Array.prototype.findIndex || function <T>(this: T[], callback: (value: T, index: number, target: T[]) => boolean, scope?: any) {\r\n    for (let i = 0; i < this.length; i++) {\r\n        if ((i in this) && callback.call(scope, this[i], i, this)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n};\r\n\r\n/**\r\n * 填充数组每个项为指定的值。\r\n * @param value 要填充的值。\r\n * @param startIndex 填充的开始位置。\r\n * @param endIndex 填充的结束位置(不包含结束位置本身)。\r\n * @example [1, 2].fill(1)\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/fill\r\n */\r\nArray.prototype.fill = Array.prototype.fill || function <T>(this: T[], value: T, startIndex = 0, endIndex = this.length) {\r\n    for (; startIndex < endIndex; startIndex++) {\r\n        this[startIndex] = value;\r\n    }\r\n};\r\n\r\n/**\r\n * 判断一个数字是否是整数。\r\n * @param obj 要判断的数字。\r\n * @return 如果是整数则返回 true，否则返回 false。\r\n * @example isInteger(7) // true\r\n * @since ES6\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\r\n */\r\nNumber.isInteger = Number.isInteger || ((value: number) => {\r\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\r\n});\r\n"],"mappings":"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"}