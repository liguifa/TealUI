{"version":3,"file":"bresenham.js","sourceRoot":"../../..","sources":["components/util/bresenham/bresenham.ts"],"sourcesContent":["// var createPoint = function(x,y,c){\r\n    // if(isNaN(x)||isNaN(y)){return;}\r\n    // c = c||'#000000';\r\n    // var dp = document.createElement('div');\r\n    // dp.style.cssText = 'position:absolute;left:'+x+'px;top:'+y+'px;background:'+c+';width:1px;height:1px;overflow:hidden;';\r\n    // document.body.appendChild(dp);\r\n// }\r\n// var draw = function(list){\r\n    // if(!list||!list.length){return;}\r\n\t// while(list.length){createPoint.apply(null,list.shift());}\r\n// };\r\n// /*Bresenham图形算法JavaScript版本By dh20156*/\r\n// /*画圆*/\r\n// var arc = function(x0,y0,r){/*起点坐标x0,y0,半径*/\r\n\t// var p,x,y,i,ret = [];\r\n\t// p = 3-2*r,x = 0,y = r,i = r;\r\n\t// for(;x<=y;){\r\n\t\t// ret.push([x+i+x0,y+i+y0]);\r\n\t\t// ret.push([-x+i+x0,-y+i+y0]);\r\n\t\t// ret.push([-x+i+x0,y+i+y0]);\r\n\t\t// ret.push([x+i+x0,-y+i+y0]);\r\n\t\t// ret.push([y+i+x0,x+i+y0]);\r\n\t\t// ret.push([-y+i+x0,x+i+y0]);\r\n\t\t// ret.push([-y+i+x0,-x+i+y0]);\r\n\t\t// ret.push([y+i+x0,-x+i+y0]);\r\n\t\t// if(p<0){\r\n\t\t\t// p = p+4*x+6;\r\n\t\t// }else{\r\n\t\t\t// y--,p = p+4*(x-y)+10;\r\n\t\t// }\r\n\t\t// x++;\r\n\t// }\r\n\t// return ret.slice(0);\r\n// };\r\n// /*画椭圆*/\r\n// var ellipse = function(px,JPlus,rx,ry){/*起点坐标px,JPlus,x轴半径rx,y轴半径ry*/\r\n\t// px = px+rx,JPlus = JPlus+ry;\r\n\t// var x = 0,y = ry,rx2 = rx*rx,ry2 = ry*ry,ret = [];\r\n\t// var dx = ry2/Math.sqrt(ry2+rx2),p = ry2-rx2*ry;\r\n\t// while(dx<=y){\r\n\t\t// ret.push([px+x,JPlus+y]);\r\n\t\t// ret.push([px+x,JPlus-y]);\r\n\t\t// ret.push([px-x,JPlus+y]);\r\n\t\t// ret.push([px-x,JPlus-y]);\r\n\t\t// if(p<=0){\r\n\t\t\t// ++x;\r\n\t\t// }else{\r\n\t\t\t// ++x,--y;\r\n\t\t// }\r\n\t\t// p = ry2*(x+1)*(x+1)+rx2*(y*y-y)-rx2*ry2;\r\n\t// }\r\n\t// p = ry2*(x*x+x)+rx2*(y*y-y)-rx2*ry2;\r\n\t// while(y>0){\r\n\t\t// ret.push([px+x,JPlus+y]);\r\n\t\t// ret.push([px+x,JPlus-y]);\r\n\t\t// ret.push([px-x,JPlus+y]);\r\n\t\t// ret.push([px-x,JPlus-y]);\r\n\t\t// if(p>=0){\r\n\t\t\t// --y,p = p-2*rx2*y-rx2;\r\n\t\t// }else{\r\n\t\t\t// --y,++x,p = p-2*rx2*y-rx2+2*ry2*x+2*ry2;\r\n\t\t// }\r\n\t// }\r\n\t// ret.push([px+x,JPlus]);\r\n\t// ret.push([px-x,JPlus]);\r\n\t// return ret.slice(0);\r\n// };\r\n// /*画直线*/\r\n// var line = function(x1,y1,x2,y2){/*起点坐标x1,y1,终点坐标x2,y2*/\r\n\t// var dx,dy,h,x,y,t,ret = [];\r\n\t// if(x1>x2){x1 = [x2,x2=x1][0],y1 = [y2,y2=y1][0];}\r\n\t// dx = x2-x1,dy = y2-y1,x = x1,y = y1;\r\n\t// if(!dx){\r\n\t\t// t = (y1>y2)?-1:1;\r\n\t\t// while(y!=y2){ret.push([x,y]);y += t;}\r\n\t\t// return ret.slice(0);\r\n\t// }\r\n\t// if(!dy){\r\n\t\t// while(x!=x2){ret.push([x,y]);x++;}\r\n\t\t// return ret.slice(0);\r\n\t// }\r\n\t// if(dy>0){\r\n\t\t// if(dy<=dx){\r\n\t\t\t// h = 2*dy-dx,ret.push([x,y]);\r\n\t\t\t// while(x!=x2){\r\n\t\t\t\t// if(h<0){\r\n\t\t\t\t\t// h += 2*dy;\r\n\t\t\t\t// }else{\r\n\t\t\t\t\t// y++,h += 2*(dy-dx);\r\n\t\t\t\t// }\r\n\t\t\t\t// x++,ret.push([x,y]);\r\n\t\t\t// }\r\n\t\t// }else{\r\n\t\t\t// h = 2*dx-dy,ret.push([x,y]);\r\n\t\t\t// while(y!=y2){\r\n\t\t\t\t// if(h<0){\r\n\t\t\t\t\t// h += 2*dx;\r\n\t\t\t\t// }else{\r\n\t\t\t\t\t// ++x,h += 2*(dx-dy);\r\n\t\t\t\t// }\r\n\t\t\t\t// y++,ret.push([x,y]);\r\n\t\t\t// }\r\n\t\t// }\r\n\t// }else{\r\n\t\t// t = -dy;\r\n\t\t// if(t<=dx){\r\n\t\t\t// h = 2*dy+dx,ret.push([x,y]);\r\n\t\t\t// while(x!=x2){\r\n\t\t\t\t// if(h<0){\r\n\t\t\t\t\t// h += 2*(dy+dx),y--;\r\n\t\t\t\t// }else{\r\n\t\t\t\t\t// h += 2*dy;\r\n\t\t\t\t// }\r\n\t\t\t\t// x++,ret.push([x,y]);\r\n\t\t\t// }\r\n\t\t// }else{\r\n\t\t\t// dy = -dy,dx = -dx,y = y2,x = x2,ret.push([x,y]),h = 2*dx+dy;\r\n\t\t\t// while(y!=y1){\r\n\t\t\t\t// if(h<0){\r\n\t\t\t\t\t// h += 2*(dx+dy),x--;\r\n\t\t\t\t// }else{\r\n\t\t\t\t\t// h += 2*dx;\r\n\t\t\t\t// }\r\n\t\t\t\t// y++,ret.push([x,y]);\r\n\t\t\t// }\r\n\t\t// }\r\n\t// }\r\n\t// return ret.slice(0);\r\n// };\r\n// /*鼠标在窗体中单击后拖动测试结果*/\r\n// /*起点*/\r\n// var op = [0,0];\r\n// document.onmousedown = function(e){\r\n\t// e=e||window.event;\r\n\t// var x1 = e.clientX,y1 = e.clientY;\r\n\t// op = [x1,y1];\r\n// }\r\n// document.onmouseup = function(e){\r\n\t// e=e||window.event;\r\n\t// var x0 = op[0],y0 = op[1];\r\n\t// var x1 = e.clientX,y1 = e.clientY;\r\n\t// /*画矩形和对角线*/\r\n\t// var rect = [];\r\n\t// Array.prototype.push.apply(rect,line(x0,y0,x1,y0));\r\n\t// Array.prototype.push.apply(rect,line(x0,y0,x0,y1));\r\n\t// Array.prototype.push.apply(rect,line(x0,y1,x1,y1));\r\n\t// Array.prototype.push.apply(rect,line(x1,y0,x1,y1));\r\n\t// Array.prototype.push.apply(rect,line(x0,y0,x1,y1));\r\n\t// draw(rect);\r\n\t// /*半径*/\r\n\t// var r = parseInt(line(x0,y0,x1,y1).length/2);\r\n\t// /*椭圆X轴半径，Y轴半径*/\r\n\t// var rx = Math.ceil(Math.abs(x0-x1)/2),ry = Math.ceil(Math.abs(y0-y1)/2);\r\n\t// /*修正另外3个象限的坐标*/\r\n\t// if(x1>x0&&y1<=y0){y0 = y1;}\r\n\t// if(x1<x0&&y1>=y0){x0 = x1;}\r\n\t// if(x1<x0&&y1<y0){x0 = x1,y0 = y1;}\r\n\t// /*画圆*/\r\n\t// var aarc = arc(x0,y0,r);\r\n\t// draw(aarc);\r\n\t// /*画椭圆*/\r\n\t// var aellipse = ellipse(x0,y0,rx,ry);\r\n\t// draw(aellipse);\r\n// };\r\n"],"mappings":"AAAA,qCAAqC;AACjC,kCAAkC;AAClC,oBAAoB;AACpB,0CAA0C;AAC1C,0HAA0H;AAC1H,iCAAiC;AACrC,IAAI;AACJ,6BAA6B;AACzB,mCAAmC;AACtC,4DAA4D;AAC7D,KAAK;AACL,0CAA0C;AAC1C,SAAS;AACT,+CAA+C;AAC9C,wBAAwB;AACxB,+BAA+B;AAC/B,eAAe;AACd,6BAA6B;AAC7B,+BAA+B;AAC/B,8BAA8B;AAC9B,8BAA8B;AAC9B,6BAA6B;AAC7B,8BAA8B;AAC9B,+BAA+B;AAC/B,8BAA8B;AAC9B,WAAW;AACV,eAAe;AAChB,SAAS;AACR,wBAAwB;AACzB,IAAI;AACJ,OAAO;AACR,IAAI;AACJ,uBAAuB;AACxB,KAAK;AACL,UAAU;AACV,wEAAwE;AACvE,+BAA+B;AAC/B,qDAAqD;AACrD,kDAAkD;AAClD,gBAAgB;AACf,4BAA4B;AAC5B,4BAA4B;AAC5B,4BAA4B;AAC5B,4BAA4B;AAC5B,YAAY;AACX,OAAO;AACR,SAAS;AACR,WAAW;AACZ,IAAI;AACJ,2CAA2C;AAC5C,IAAI;AACJ,uCAAuC;AACvC,cAAc;AACb,4BAA4B;AAC5B,4BAA4B;AAC5B,4BAA4B;AAC5B,4BAA4B;AAC5B,YAAY;AACX,yBAAyB;AAC1B,SAAS;AACR,2CAA2C;AAC5C,IAAI;AACL,IAAI;AACJ,0BAA0B;AAC1B,0BAA0B;AAC1B,uBAAuB;AACxB,KAAK;AACL,UAAU;AACV,2DAA2D;AAC1D,8BAA8B;AAC9B,oDAAoD;AACpD,uCAAuC;AACvC,WAAW;AACV,oBAAoB;AACpB,wCAAwC;AACxC,uBAAuB;AACxB,IAAI;AACJ,WAAW;AACV,qCAAqC;AACrC,uBAAuB;AACxB,IAAI;AACJ,YAAY;AACX,cAAc;AACb,+BAA+B;AAC/B,gBAAgB;AACf,WAAW;AACV,aAAa;AACd,SAAS;AACR,sBAAsB;AACvB,IAAI;AACJ,uBAAuB;AACxB,IAAI;AACL,SAAS;AACR,+BAA+B;AAC/B,gBAAgB;AACf,WAAW;AACV,aAAa;AACd,SAAS;AACR,sBAAsB;AACvB,IAAI;AACJ,uBAAuB;AACxB,IAAI;AACL,IAAI;AACL,SAAS;AACR,WAAW;AACX,aAAa;AACZ,+BAA+B;AAC/B,gBAAgB;AACf,WAAW;AACV,sBAAsB;AACvB,SAAS;AACR,aAAa;AACd,IAAI;AACJ,uBAAuB;AACxB,IAAI;AACL,SAAS;AACR,+DAA+D;AAC/D,gBAAgB;AACf,WAAW;AACV,sBAAsB;AACvB,SAAS;AACR,aAAa;AACd,IAAI;AACJ,uBAAuB;AACxB,IAAI;AACL,IAAI;AACL,IAAI;AACJ,uBAAuB;AACxB,KAAK;AACL,sBAAsB;AACtB,SAAS;AACT,kBAAkB;AAClB,sCAAsC;AACrC,qBAAqB;AACrB,qCAAqC;AACrC,gBAAgB;AACjB,IAAI;AACJ,oCAAoC;AACnC,qBAAqB;AACrB,6BAA6B;AAC7B,qCAAqC;AACrC,cAAc;AACd,iBAAiB;AACjB,sDAAsD;AACtD,sDAAsD;AACtD,sDAAsD;AACtD,sDAAsD;AACtD,sDAAsD;AACtD,cAAc;AACd,SAAS;AACT,gDAAgD;AAChD,kBAAkB;AAClB,2EAA2E;AAC3E,kBAAkB;AAClB,8BAA8B;AAC9B,8BAA8B;AAC9B,qCAAqC;AACrC,SAAS;AACT,2BAA2B;AAC3B,cAAc;AACd,UAAU;AACV,uCAAuC;AACvC,kBAAkB;AACnB,KAAK"}