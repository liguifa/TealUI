{"version":3,"file":"bresenham.js","sourceRoot":"../../..","sources":["components/util/bresenham/bresenham.ts"],"sourcesContent":["/**\r\n * 创建一个贝塞尔曲线。\r\n * @param x0 起始点的水平坐标。\r\n * @param y0 起始点的垂直坐标。\r\n * @param x1 结束点的水平坐标。\r\n * @param y1 结束点的垂直坐标。\r\n * @param callback 所有生成的点的回调函数。\r\n * @return 如果未提供回调函数则返回生成的点坐标。\r\n */\r\nexport default function bresenham(x0: number, y0: number, x1: number, y1: number, callback?: (x: number, y: number) => void) {\r\n    let result: { x: number, y: number }[];\r\n    if (!callback) {\r\n        result = [];\r\n    }\r\n    const dx = x1 - x0;\r\n    const dy = y1 - y0;\r\n    const adx = Math.abs(dx);\r\n    const ady = Math.abs(dy);\r\n    const sx = dx > 0 ? 1 : -1;\r\n    const sy = dy > 0 ? 1 : -1;\r\n    let eps = 0;\r\n    if (adx > ady) {\r\n        for (let x = x0, y = y0; sx < 0 ? x >= x1 : x <= x1; x += sx) {\r\n            if (callback) {\r\n                callback(x, y);\r\n            } else {\r\n                result!.push({ x, y });\r\n            }\r\n            eps += ady;\r\n            if ((eps << 1) >= adx) {\r\n                y += sy;\r\n                eps -= adx;\r\n            }\r\n        }\r\n    } else {\r\n        for (let x = x0, y = y0; sy < 0 ? y >= y1 : y <= y1; y += sy) {\r\n            if (callback) {\r\n                callback(x, y);\r\n            } else {\r\n                result!.push({ x, y });\r\n            }\r\n            eps += adx;\r\n            if ((eps << 1) >= ady) {\r\n                x += sx;\r\n                eps -= ady;\r\n            }\r\n        }\r\n    }\r\n    return result!;\r\n}"],"mappings":";;IAAA;;;;;;;;OAQG;IACH,mBAAkC,EAAU,EAAE,EAAU,EAAE,EAAU,EAAE,EAAU,EAAE,QAAyC;QACvH,IAAI,MAAkC,CAAC;QACvC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACZ,MAAM,GAAG,EAAE,CAAC;QAChB,CAAC;QACD,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACnB,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACnB,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACzB,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACzB,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC3B,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAC3B,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;YACZ,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;gBAC3D,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACX,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACnB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAO,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC3B,CAAC;gBACD,GAAG,IAAI,GAAG,CAAC;gBACX,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;oBACpB,CAAC,IAAI,EAAE,CAAC;oBACR,GAAG,IAAI,GAAG,CAAC;gBACf,CAAC;YACL,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;gBAC3D,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACX,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACnB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAO,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBAC3B,CAAC;gBACD,GAAG,IAAI,GAAG,CAAC;gBACX,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;oBACpB,CAAC,IAAI,EAAE,CAAC;oBACR,GAAG,IAAI,GAAG,CAAC;gBACf,CAAC;YACL,CAAC;QACL,CAAC;QACD,MAAM,CAAC,MAAO,CAAC;IACnB,CAAC;IAxCD,4BAwCC"}