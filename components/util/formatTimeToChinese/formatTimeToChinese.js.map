{"version":3,"file":"formatTimeToChinese.js","sourceRoot":"../../..","sources":["components/util/formatTimeToChinese/formatTimeToChinese.ts"],"sourcesContent":["/**\r\n * 格式化时间为 **刚刚/N 秒(分钟/小时/天)前** 格式。\r\n * @param date 要格式化的日期。\r\n * @param now 指定当前时间。\r\n * @return 返回时间字符串。如果时间在 5 秒内，返回刚刚，否则返回 N 秒(分钟/小时/天)前 格式。\r\n * @example formatTimeToChinese(new Date())\r\n */\r\nexport default function formatTimeToChinese(date: Date, now = new Date()) {\r\n    const timeOffset = Math.round(((now as any) - (date as any)) / 1000);\r\n    let t: number;\r\n    return timeOffset > 86400 * 4 || timeOffset < 0 ? date.getFullYear() + \"年\" + (date.getMonth() + 1) + \"月\" + date.getDate() + \"日\" :\r\n        (t = Math.floor(timeOffset / 86400)) !== 0 ? t + \"天前\" :\r\n            (t = Math.floor(timeOffset / 3600 % 24)) !== 0 ? t + \"小时前\" :\r\n                (t = Math.floor(timeOffset / 60 % 60)) !== 0 ? t + \"分钟前\" :\r\n                    (t = Math.floor(timeOffset % 60)) > 4 ? t + \"秒前\" : \"刚刚\";\r\n}\r\n"],"mappings":";;IAAA;;;;;;OAMG;IACH,6BAA4C,IAAU,EAAE,GAAG,GAAG,IAAI,IAAI,EAAE;QACpE,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,CAAE,GAAW,GAAI,IAAY,CAAC,GAAG,IAAI,CAAC,CAAC;QACrE,IAAI,CAAS,CAAC;QACd,MAAM,CAAC,UAAU,GAAG,KAAK,GAAG,CAAC,IAAI,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,GAAG;YAC3H,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI;gBACjD,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK;oBACtD,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK;wBACpD,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;IAC5E,CAAC;IARD,sCAQC"}