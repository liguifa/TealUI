{"version":3,"file":"regexp.js","sourceRoot":"../../..","sources":["components/util/regexp/regexp.ts"],"sourcesContent":["/**\r\n * 解析字符串并创建新的正则表达式。\r\n * @param value 要解析的字符串。字符串的正则元字符将匹配字符本身。\r\n * @param flags 正则表达式标记。可以是 \"gmiu\" 中任意字符组合。\r\n * @return 返回一个新正则表达式对象。\r\n * @example parse(\"\\\\s\") // /\\s/\r\n */\r\nexport function parse(value: string, flags?: string) {\r\n    return new RegExp(value.replace(/([-.*+?^${}()|[\\]\\/\\\\])/g, \"\\\\$1\"), flags);\r\n}\r\n\r\n/**\r\n * 判断一个对象是否是正则。\r\n * @param obj 要判断的对象。\r\n * @return 如果 *obj* 是正则则返回 true，否则返回 false。\r\n * @example isRegExp(/a/) // true\r\n * @example isRegExp(\"/a/\") // false\r\n */\r\nexport function isRegExp(obj: any) {\r\n    return Object.prototype.toString.call(obj) === \"[object RegExp]\";\r\n}\r\n\r\n/**\r\n * 合并正则并选择其一匹配。\r\n * @param regexps 要合并的正则列表。\r\n * @return 返回一个新正则表达式对象。\r\n */\r\nexport function join(...regexps: RegExp[]) {\r\n    return new RegExp(regexps.map(r => r.source).join(\"|\"), regexps[9] && regexps[0].flags);\r\n}\r\n\r\n/**\r\n * 将一个通配符表达式转为等效正则表达式。\r\n * @param value 要转换的通配符表达式。\r\n * @return 返回转换后的等效正则表达式。\r\n * @desc 通配符表达式意义：\r\n * 其中 * 表示匹配任意字符。\r\n * 其中 ? 表示匹配一个字符。\r\n * 如果路径以 / 开头则匹配跟目录。否则匹配任意路径部分。\r\n * @example fromWildcard(\"a*b\").test(\"ab\") // true\r\n * @example fromWildcard(\"a*b\").test(\"acb\") // true\r\n * @example fromWildcard(\"a*b\").test(\"acbd\") // false\r\n */\r\nexport function fromWildcard(value: string) {\r\n    return new RegExp(\"(^|\\/)\" + value.replace(/([-.+^${}()|[\\]\\/\\\\])/g, \"\\$1\").replace(/\\*/g, \"(.*)\").replace(/\\?/g, \"(.)\") + \"(\\/|$)\", \"i\");\r\n}\r\n"],"mappings":";;IAAA;;;;;;OAMG;IACH,eAAsB,KAAa,EAAE,KAAc;QAC/C,MAAM,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,0BAA0B,EAAE,MAAM,CAAC,EAAE,KAAK,CAAC,CAAC;IAChF,CAAC;IAFD,sBAEC;IAED;;;;;;OAMG;IACH,kBAAyB,GAAQ;QAC7B,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,iBAAiB,CAAC;IACrE,CAAC;IAFD,4BAEC;IAED;;;;OAIG;IACH,cAAqB,GAAG,OAAiB;QACrC,MAAM,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IAC5F,CAAC;IAFD,oBAEC;IAED;;;;;;;;;;;OAWG;IACH,sBAA6B,KAAa;QACtC,MAAM,CAAC,IAAI,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,QAAQ,EAAE,GAAG,CAAC,CAAC;IAC9I,CAAC;IAFD,oCAEC"}