{"version":3,"file":"upDown.js","sourceRoot":"../../../..","sources":["components/ui/upDown/old/upDown.ts"],"sourcesContent":["// #todo\r\n\r\n/**\r\n * @author xuld@vip.qq.com\r\n */\r\n\r\ntypeof include === \"function\" && include(\"../dom/keyNav\");\r\ntypeof include === \"function\" && include(\"../control/base\");\r\n\r\nvar UpDown = Control.extend({\r\n\r\n    changeSpeed: 90,\r\n\r\n    holdDuration: 600,\r\n\r\n    init: function (options) {\r\n        var me = this;\r\n        bindEvent('up', -1);\r\n        bindEvent('down', 1);\r\n\r\n        this.elem.keyNav({\r\n            up: function() {\r\n                me.onUpDown(-1);\r\n            },\r\n            down: function () {\r\n                me.onUpDown(1);\r\n            }\r\n        });\r\n\r\n        function bindEvent(d, delta) {\r\n            d = me.elem.querySelector('.x-updown-' + d);\r\n\r\n            d.onmousedown = function () {\r\n                me.onUpDown(delta);\r\n                if (me.timer)\r\n                    clearInterval(me.timer);\r\n                me.timer = setTimeout(function () {\r\n                    me.timer = setInterval(function () { me.onUpDown(delta); }, me.changeSpeed);\r\n                }, me.holdDuration);\r\n            };\r\n\r\n            d.onmouseout = d.onmouseup = function () {\r\n                clearTimeout(me.timer);\r\n                clearInterval(me.timer);\r\n                me.timer = 0;\r\n            };\r\n        }\r\n    },\r\n\r\n    onUpDown: function (delta) {}\r\n\r\n});\r\n"],"mappings":"AAAA,QAAQ;AAER;;GAEG;AAEH,OAAO,OAAO,KAAK,UAAU,IAAI,OAAO,CAAC,eAAe,CAAC,CAAC;AAC1D,OAAO,OAAO,KAAK,UAAU,IAAI,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAE5D,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;IAExB,WAAW,EAAE,EAAE;IAEf,YAAY,EAAE,GAAG;IAEjB,IAAI,EAAE,UAAU,OAAO;QACnB,IAAI,EAAE,GAAG,IAAI,CAAC;QACd,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;QACpB,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAErB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YACb,EAAE,EAAE;gBACA,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YACpB,CAAC;YACD,IAAI,EAAE;gBACF,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC;SACJ,CAAC,CAAC;QAEH,mBAAmB,CAAC,EAAE,KAAK;YACvB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;YAE5C,CAAC,CAAC,WAAW,GAAG;gBACZ,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACnB,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC;oBACT,aAAa,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBAC5B,EAAE,CAAC,KAAK,GAAG,UAAU,CAAC;oBAClB,EAAE,CAAC,KAAK,GAAG,WAAW,CAAC,cAAc,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC;gBAChF,CAAC,EAAE,EAAE,CAAC,YAAY,CAAC,CAAC;YACxB,CAAC,CAAC;YAEF,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,SAAS,GAAG;gBACzB,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBACvB,aAAa,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;gBACxB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC;QACN,CAAC;IACL,CAAC;IAED,QAAQ,EAAE,UAAU,KAAK,IAAG,CAAC;CAEhC,CAAC,CAAC"}