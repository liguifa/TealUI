{"version":3,"file":"treeView (2).js","sourceRoot":"../../../..","sources":["components/ui/treeView/old/treeView (2).ts"],"sourcesContent":["// #todo\r\n\r\n/**\r\n * @author xuld@vip.qq.com\r\n */\r\n\r\ntypeof include === \"function\" && include(\"ui/nav/treeview.css\");\r\ntypeof include === \"function\" && include(\"ui/core/treecontrol.js\");\r\ntypeof include === \"function\" && include(\"ui/core/icollapsable.js\");\r\n\r\nvar TreeView = TreeControl.extend({\r\n\r\n    cssClass: 'x-treeview',\r\n\r\n    depth: 0,\r\n\r\n    createNode: function (exitsNode) {\r\n    \treturn new TreeNode(exitsNode);\r\n    },\r\n\r\n    initChildNode: function (li) {\r\n    \tTreeControl.prototype.initChildNode.call(this, li);\r\n\r\n\t\t// 更新子节点的深度。\r\n    \tthis.itemOf(li).setDepth(this.depth + 1);\r\n\r\n\t\t// 如果当前树是子树，则更新所在节点的 + - 标记。\r\n    \tif (this.owner()) {\r\n    \t\tthis.owner().update();\r\n    \t}\r\n    },\r\n\r\n\t/**\r\n\t * 点击时触发。\r\n\t */\r\n    onClick: function (e) {\r\n\t\t\r\n    \tvar target = e.target;\r\n\r\n    \tif (/\\bui-treenode-(minus|plus|loading)\\b/.test(target.className))\r\n    \t\treturn;\r\n\r\n    \ttarget = Dom.closest(target, \"li\");\r\n\r\n    \tif (target = Dom.data(target).treeNode) {\r\n    \t\tthis.selectNode(target);\r\n    \t\treturn false;\r\n    \t}\r\n\r\n    },\r\n\r\n    init: function () {\r\n\r\n        // 根据已有的 DOM 结构初始化菜单。\r\n    \tTreeControl.prototype.init.call(this);\r\n\r\n\t\t// 点击后展开/折叠子节点。\r\n        Dom.on(this.elem, 'click', this.onClick, this);\r\n    },\r\n\r\n    invoke: function (funcName, args) {\r\n        var i, node;\r\n        args = args || [];\r\n        for (i = 0 ; node = this.item(i) ; i++) {\r\n        \tnode[funcName].apply(node, args);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    collapse: function (duration) {\r\n        return this.invoke('collapse', [duration]);\r\n    },\r\n\r\n    collapseAll: function (duration) {\r\n        return this.invoke('collapseAll', [duration]);\r\n    },\r\n\r\n    expand: function (duration) {\r\n        return this.invoke('expand', [duration]);\r\n    },\r\n\r\n    expandAll: function (duration) {\r\n        return this.invoke('expandAll', [duration]);\r\n    },\r\n\r\n    collapseTo: function (depth, duration) {\r\n        return this.invoke('collapseTo', [--depth, duration]);\r\n    },\r\n\r\n    /**\r\n\t * 模拟点击一项。\r\n\t */\r\n    selectNode: function (node) {\r\n        if (this.trigger('selecting', node)) {\r\n            var old = this.getSelectedNode();\r\n            this.setSelectedNode(node);\r\n            if (old !== node)\r\n                this.trigger('change');\r\n        }\r\n        return this;\r\n    },\r\n\r\n    getSelectedNode: function () {\r\n    \treturn this.selectedNode;\r\n    },\r\n\r\n    setSelectedNode: function (node) {\r\n\r\n        // 先反选当前选择项。\r\n        if (this.selectedNode)\r\n        \tDom.removeClass(this.selectedNode.elem, 'x-treenode-selected');\r\n\r\n        // 更新选择项。\r\n        this.selectedNode = node;\r\n\r\n        if (node != null) {\r\n        \tDom.addClass(node.elem, 'x-treenode-selected');\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n});\r\n\r\n/**\r\n * 表示是 {@link TreeView} 中的一个节点。\r\n */\r\nvar TreeNode = TreeControl.Node.extend(ICollapsable).implement({\r\n\t\r\n\tcssClass: 'x-treenode',\r\n\t\r\n\ttpl: '<a class=\"{cssClass}\"><span></span></a>',\r\n\r\n\tdepth: 0,\r\n\t\r\n\t/**\r\n\t * 获取当前用于折叠的容器对象。\r\n\t * @return {Control} 折叠的容器对象。\r\n\t * @protected override\r\n\t */\r\n\tbody: function () {\r\n\t\tvar sub = this.getSub();\r\n\t\treturn sub && sub.elem;\r\n\t},\r\n\t\r\n\t/**\r\n\t * 获取当前的文字对象。\r\n\t * @return {Control} 文字对象。\r\n\t * @protected override\r\n\t */\r\n\tcontent: function(){\r\n\t\treturn Dom.last(this.elem);\r\n\t},\r\n\t\r\n\t/**\r\n\t * 当被子类重写时，用于创建子树。\r\n\t * @param {TreeControl} treeControl 要初始化的子树。\r\n\t * @return {TreeControl} 新的 {@link TreeControl} 对象。\r\n\t * @protected override\r\n\t */\r\n\tcreateSub: function (existNode) {\r\n\t\treturn new TreeView(existNode);\r\n\t},\r\n\t\r\n\t/**\r\n\t * 当被子类重写时，用于初始化子树。\r\n\t * @param {TreeControl} treeControl 要初始化的子树。\r\n\t * @protected override\r\n\t */\r\n\tinitSub: function (treeControl) {\r\n\r\n\t\t// 更新子树的类。\r\n\t\tDom.removeClass(treeControl.elem, 'x-treeview');\r\n\t\tDom.addClass(treeControl.elem, 'x-treeview-subtree');\r\n\r\n\t\t// 标记子树的深度。\r\n\t    treeControl.depth = this.depth;\r\n\r\n\t\t// 子树不需要选择节点的功能。\r\n\t    Dom.un(treeControl.elem, 'click', treeControl.onClick);\r\n\t},\r\n\r\n\tuninitSub: function (treeControl) {\r\n\r\n\t\t// 更新子树的类。\r\n\t\tDom.addClass(treeControl.elem, 'x-treeview');\r\n\t\tDom.removeClass(treeControl.elem, 'x-treeview-subtree');\r\n\r\n\t\t// 将树设为独立的树。\r\n\t\ttreeControl.depth = 0;\r\n\r\n\t\t// 子树不需要选择节点的功能。\r\n\t\tDom.on(treeControl.elem, 'click', treeControl.onClick, treeControl);\r\n\r\n\t},\r\n\t\r\n\t/**\r\n\t * 更新一个节点前面指定的占位符的类名。\r\n\t * @private\r\n\t */\r\n\t_setSpan: function(depth, className){\r\n\t\tthis.sub().each(function(node){\r\n\t\t\tvar first = Dom.first(node.elem, depth);\r\n\t\t\tif(first.tagName == 'SPAN')\r\n\t\t\t\tfirst.className = className;\r\n\t\t\tnode._setSpan(depth, className);\r\n\t\t});\r\n\t},\r\n\t\r\n\t_markAsLastNode: function(){\r\n\t\tDom.addClass(this.elem, 'x-treenode-last');\r\n\t\tthis._setSpan(this.depth - 1, 'x-treenode-space x-treenode-none');\r\n\t},\r\n\t\r\n\t_clearMarkAsLastNode: function(){\r\n\t\tDom.removeClass(this.elem, 'x-treenode-last');\r\n\t\tthis._setSpan(this.depth - 1, 'x-treenode-space');\r\n\t},\r\n\r\n\t/**\r\n\t * 获取当前节点的占位 span 。\r\n\t * @param {Integer} index 要获取的索引， 最靠近右的索引为 0 。\r\n\t * @protected\r\n\t */\r\n\tspan: function(index){\r\n\t\treturn Dom.prev(this.content(), index);\r\n\t},\r\n\t\r\n\t/**\r\n\t * 由于子节点的改变刷新本节点和子节点状态。\r\n\t * @protected\r\n\t */\r\n\tupdate: function(){\r\n\t\t\r\n\t\t// 更新图标。\r\n\t\tthis.updateType();\r\n\r\n\t\tvar sub = this.getSub();\r\n\r\n\t\tif (sub) {\r\n\r\n\t\t\tvar last = sub.item(-1), lastNode;\r\n\r\n\t\t\t// 更新 lastNode\r\n\t\t\tif (last) {\r\n\t\t\t\tlastNode = this._lastNode;\r\n\t\t\t\tif (lastNode !== last.elem) {\r\n\t\t\t\t\tlast._markAsLastNode();\r\n\t\t\t\t\tthis._lastNode = last;\r\n\t\t\t\t\tif (lastNode) lastNode._clearMarkAsLastNode();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t\r\n\t/**\r\n\t * 根据当前的节点情况更新当前节点的图标。\r\n\t * @protected\r\n\t */\r\n\tupdateType: function () {\r\n\t\tvar sub = this.getSub();\r\n\t\tthis.setType(sub && Dom.first(sub.elem) ? (this.isCollapsed() ? 'plus' : 'minus') : 'normal');\r\n\t},\r\n\t\r\n\t/**\r\n\t * 获取一个值，该值指示当前节点是否为最后一个节点。\r\n\t * @return {Boolean}\r\n\t * @protected\r\n\t */\r\n\tisLastNode: function () {\r\n\t\tvar parent = this.parent();\r\n\t\treturn parent && parent._lastNode === this;\r\n\t},\r\n\t\r\n\tonDblClick: function(e){\r\n\t\tthis.toggleCollapse();\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t},\r\n\r\n\tonCollapse: function () {\r\n\t\tICollapsable.onCollapse.call(this);\r\n\t\tthis.updateType();\r\n\t},\r\n\r\n\tonExpanding: function () {\r\n\t\tthis.setType(this.isCollapsed() ? 'minus' : 'plus');\r\n\t\tICollapsable.onExpanding.call(this);\r\n\t},\r\n\r\n\tinit: function (options) {\r\n\t\tTreeControl.Node.prototype.init.call(this, options);\r\n\t\tDom.setStyle(this.elem, 'user-select', 'none');\r\n\t\tDom.on(this.elem, 'dblclick', this.onDblClick, this);\r\n\t},\r\n\t\r\n\t/**\r\n\t * 获取当前节点的图标。\r\n\t */\r\n\tgetType: function(){\r\n\t\tvar span = this.span(0);\r\n\t\treturn span ? (/x-treenode-(.+)/.exec(span.className.replace(/\\bui-treenode-space\\b/, '')) || [0, \"line\"])[1] : null;\r\n\t},\r\n\t\r\n\t/**\r\n\t * 设置当前节点的图标。\r\n\t * @param {String} type 类型。肯能的值如： 'normal' 'plus' 'minus' 'none' 'loading' 'line'。\r\n\t * @return this\r\n\t */\r\n\tsetType: function(type){\r\n\t\tvar span = this.span(0);\r\n\t\tif(span) {\r\n\t\t\tspan.className = 'x-treenode-space x-treenode-' + type;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t\r\n\t/**\r\n\t * 展开当前节点及子节点。\r\n\t * @param {Integer} duration 折叠动画使用的毫米数。\r\n\t * @param {Integer} maxDepth=0 最大折叠的深度。默认为 -1 表示全部折叠。\r\n\t * @return this\r\n\t */\r\n\texpandAll: function(duration, maxDepth){\r\n\t\tif (this.getSub() && !(maxDepth === 0)) {\r\n\t\t\tthis.expand(duration);\r\n\t\t\tthis.invoke('expandAll', [duration, --maxDepth]);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t\r\n\t/**\r\n\t * 折叠当前节点及子节点。\r\n\t * @param {Integer} duration 折叠动画使用的毫米数。\r\n\t * @param {Integer} maxDepth=0 最大折叠的深度。默认为 -1 表示全部折叠。\r\n\t * @return this\r\n\t */\r\n\tcollapseAll: function(duration, maxDepth){\r\n\t\tif (this.getSub() && !(maxDepth === 0)) {\r\n\t\t\tthis.invoke('collapseAll', [duration, --maxDepth]);\r\n\t\t\tthis.collapse(duration);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\t\r\n\t/**\r\n\t * 展开当前节点，但折叠指定深度以后的节点。\r\n\t */\r\n\tcollapseTo: function(depth, duration){\r\n\t\tduration = duration === undefined ? 0 : duration;\r\n\t\tdepth = depth === undefined ? 1 : depth;\r\n\t\t\r\n\t\tif(depth > 0){\r\n\t\t\tthis.expand(duration);\r\n\t\t} else {\r\n\t\t\tthis.collapse(duration);\r\n\t\t}\r\n\t\t\r\n\t\tthis.invoke('collapseTo', [--depth, duration]);\r\n\t},\r\n\t\r\n\tinvoke: function (funcName, args) {\r\n\t\tvar sub = this.getSub();\r\n\t\tif (sub) {\r\n\t\t\tsub.invoke(funcName, args);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t * 获取当前节点的深度。\r\n\t * @return {Integer} 返回节点深度。\r\n\t */\r\n\tgetDepth: function(){\r\n\t\treturn this.depth;\r\n\t},\r\n\r\n\t/**\r\n\t * 设置当前节点的深度。\r\n\t * @param {Integer} value 要设置的深度。\r\n\t * @return this\r\n\t */\r\n\tsetDepth: function(value){\r\n\t\t\r\n\t\t//assert(value >= 0, \"TreeNode#setDepth(value): {value} 必须是不小于 0 的整数\", value);\r\n\t\t\r\n\t\tvar me = this,\r\n\t\t\tcurrentDepth = me.getDepth(),\r\n\t\t\tspan,\r\n\t\t\tcurrent = me;\r\n\t\t\r\n\t\t// 删除多余的占位符。\r\n\t\t\r\n\t\twhile(currentDepth > value){\r\n\t\t\tDom.remove(Dom.first(this.elem));\r\n\t\t\tcurrentDepth--;\r\n\t\t}\r\n\t\r\n\t\t// 补上不够的占位符。\r\n\t\t\r\n\t\twhile(currentDepth < value){\r\n\t\t\tDom.prepend(this.elem, '<span class=\"x-treenode-space\"></span>');\r\n\t\t\tcurrentDepth++;\r\n\t\t}\r\n\t\t\r\n\t\t// 更新深度。\r\n\t\t\r\n\t\tthis.depth = value;\r\n\t\t\r\n\t\t// 绑定最后一个 span 的点击事件。\r\n\t\t\r\n\t\t// 获取第一个占位符。\r\n\t\tspan = this.span(0);\r\n\t\t\r\n\t\tif(currentDepth) {\r\n\t\t\tDom.un(span, 'click', this.onDblClick);\r\n\t\t\tDom.on(span, 'click', this.onDblClick, this);\r\n\t\t}\r\n\t\t\r\n\t\t// 更新 spans 的 class 状态。\r\n\t\t\r\n\t\twhile ((current = current.parent()) && (span = Dom.prev(span))) {\r\n\t\t\tspan.className = current.isLastNode && current.isLastNode() ? 'x-treenode-space x-treenode-none' : 'x-treenode-space';\r\n\t\t}\r\n\t\t\r\n\t\tme.updateType();\r\n\t\t\r\n\t\t// 对子节点设置深度+1\r\n\t\tme.invoke('setDepth', [++value]);\r\n\t},\r\n\t\r\n\tensureVisible: function(duration){\r\n\t\tvar n = this;\r\n\t\twhile(n = n.parent()) {\r\n\t\t\tn.expand(duration);\r\n\t\t}\r\n\r\n\t\t//   this.scrollIntoView();\r\n\t\t\r\n\t\treturn this;\r\n\t}\r\n\r\n});"],"mappings":"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"}