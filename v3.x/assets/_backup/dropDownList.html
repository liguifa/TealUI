<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>下拉列表</title>
    <meta name="module-info" content="status=doing">
    <meta name="author" content="xuld@vip.qq.com">
    <meta name="description" content="下拉列表。">

    <!-- 以下是本组件的全部源码 -->
    <link rel="stylesheet" type="text/css" href="../../typography/core/base.css" />
    <link rel="stylesheet" type="text/css" href="../../typography/partial/icon.css" />
    <link rel="stylesheet" type="text/css" href="../../typography/form/textBox.css" />
    <link rel="stylesheet" type="text/css" href="../../typography/form/button.css" />
    <link rel="stylesheet" type="text/css" href="../../control/input/dropDownList.css" />

    <script type="text/javascript" src="../../core/core.js"></script>
    <script type="text/javascript" src="../../core/class.js"></script>
    <script type="text/javascript" src="../../dom/core.js"></script>
    <script type="text/javascript" src="../../dom/pin.js"></script>
    <script type="text/javascript" src="../../dom/keynav.js"></script>
    <script type="text/javascript" src="../../utils/deferrable.js"></script>
    <script type="text/javascript" src="../../fx/base.js"></script>
    <script type="text/javascript" src="../../fx/tween.js"></script>
    <script type="text/javascript" src="../../fx/animate.js"></script>
    <script type="text/javascript" src="../core/base.js"></script>
    <script type="text/javascript" src="../core/idropdownowner.js"></script>
    <script type="text/javascript" src="../core/iinput.js"></script>
    <script type="text/javascript" src="../core/listcontrol.js"></script>
    <script type="text/javascript" src="../suggest/picker.js"></script>
    <script type="text/javascript" src="../suggest/dropdownmenu.js"></script>
    <script type="text/javascript" src="../suggest/combobox.js"></script>
    <script type="text/javascript" src="../suggest/dropdownlist.js"></script>
</head>
<body>
    <!-- 以下代码仅用于文档演示 -->
    <script type="text/javascript" src="../../../assets/doc/doc.js"></script>

    <h3>基本用法</h3>
    <aside class="doc-demo">
        <button class="x-button x-dropdownlist"><span>asdasdas</span> <i class="x-icon">&#9662;</i></button>
    </aside>

    <article>

        <h2>创建下拉列表</h2>

        <p>DropDownList 用于美化 <a href="../Form/Select.html">Select</a> 组件。另参考 <a href="../Button/MenuButton.html">MenuButton</a> 和 <a href="ComboBox.html">ComboBox</a> 。</p>

        <h3>最简单方式： 基于 &lt;select&gt; 创建</h3>

        <p>让 DropDownList 成为 Select 的代理， Select 的 placeholder onclick onchange readonly disabled 属性会被复制。</p>

        <script type="text/html">
            <select id="dropDownList1" name="dropDownList1">
                <option value="1">选项1</option>
                <option value="2" selected="selected">选项2</option>
                <option value="1">选项3</option>
                <option value="1">选项4</option>
            </select>
            < script>
            var dropDownList1 = new DropDownList("#dropDownList1");
            < /script>
        </script>

        <h3>基于 &lt;a&gt; 创建</h3>

        <script type="text/html">
            <a href="javascript:;" class="x-button" id="dropDownList2">B</a>

            <!-- 紧跟的 x-dropdown 会被作为下拉菜单 -->
            <ul class="x-dropdown x-listbox">
                <li>预定义的选项</li>
            </ul>

            < script>
            var dropDownList2 = new DropDownList("#dropDownList2");
            < /script>
        </script>

        <h3>完整 HTML 创建</h3>

        <aside class="doc-demo">
            <span class="x-picker" id="dropDownList3">
                <a href="javascript:;" class="x-button">C</a>
                <button class="x-button"><span class="x-menubutton-arrow"></span></button>
            </span>

            <!-- 紧跟的 x-dropdown 会被作为下拉菜单 -->
            <ul class="x-dropdown x-listbox">
                <li>预定义的选项</li>
            </ul>

            <script>
                var dropDownList3 = new DropDownList("#dropDownList3");
            </script>
        </aside>

    </article>

    <article>

        <h2>常用 API</h2>

        <section class="demo-sample">

            <select id="dropDownList" name="dropDownList">
                <option value="1">选项1</option>
                <option value="2" selected="selected">选项2</option>
            </select>

            <script>
                var dropDownList = new DropDownList("#dropDownList");
            </script>

        </section>

        <script>

            Demo.writeExamples({
                '内容相关': '-',
                '动态增加一项': 'dropDownList.add("<em>这是通过 add 插入的</em>").setAttr("data-value", "VAL")',
                '设置或获取当前选中的索引': 'dropDownList.setSelectedIndex(1);dropDownList.getSelectedIndex()',
                '设置或获取选中的值(value), 这个值将被提交到后台': 'dropDownList.setText("2");dropDownList.getText()',
                '调整宽度以适应下拉菜单的大小': 'dropDownList.resizeToFitItems()',

                '操作相关': '-',
                '设置值更改后的回调': 'dropDownList.on("change", function(){alert("值被改变了 " + this.getText())})',
                '设置被选中前的回调，并阻止选择事件': 'dropDownList.on("selecting", function(){alert("选择前执行"); return false; /* 阻止事件，这样就永远不会选中项了。*/})',
                '手动展开下拉菜单': 'dropDownList.showDropDown()',

                '状态相关': '-',
                '禁用': function () {
                    dropDownList.setAttr("disabled", true); // 设置
                    dropDownList.setAttr("disabled", false); // 取消
                    dropDownList.getAttr("disabled"); // 获取目前状态
                },
                '只读': function () {
                    dropDownList.setAttr("readOnly", true); // 设置
                    dropDownList.setAttr("readOnly", false); // 取消
                    dropDownList.getAttr("readOnly"); // 获取目前状态
                }
            });

        </script>

        <blockquote>其它 API 参考 <a href="Combobox.html">ComboBox</a> 组件。(DropDownList 继承于 ComboBox)</blockquote>

        <blockquote>要控制下拉菜单， 参考 <a href="../Core/IDropDownOwner.html">IDropDownOwner</a> 组件。(DropDownList 实现了 IDropDownOwner 接口)</blockquote>

        <blockquote>DropDownList 使用 <a href="DropDownMenu.html">DropDownMenu</a> 组件作为下拉菜单。</blockquote>

    </article>

</body>
</html>